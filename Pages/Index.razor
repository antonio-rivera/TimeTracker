@using TimeTracker.Models
@page "/"

<div class="card text-center">
    <h2>Work Items</h2>
    <Items WorkItems="WorkItems" OnDeleteItem="@DeleteItem" />


    <button @onclick="AddItem" class="btn btn-success mx-auto w-25 mb-3">Add</button>
</div>

@code {

    public List<WorkItem> WorkItems = new List<WorkItem>();
    public List<Project> Projects = new List<Project>();

    public void AddItem()
    {
        WorkItem item = new WorkItem("", new Project(0m, ""));
        WorkItems.Add(item);
    }

    public async Task<bool> DeleteItem(Guid id)
    {
        int delIndex = WorkItems.FindIndex(item => item.Id == id);
        if (delIndex >= 0)
        {
            WorkItems.RemoveAt(delIndex);
            return true;
        }

        return false;
    }

}